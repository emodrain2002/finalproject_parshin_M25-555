INFO 2026-01-14T14:12:04 BUY user='test1' currency='1000.0' amount='None' result=OK before=0.0 after=1000.0
INFO 2026-01-14T14:12:10 BUY user='test1' currency='0.1' amount='None' result=OK before=0.0 after=0.1
ERROR 2026-01-14T14:12:25 BUY user='test1' currency='1.0' amount='None' result=ERROR error_type=CurrencyNotFoundError error="Неизвестная валюта 'ABC'"
ERROR 2026-01-14T14:12:29 BUY user='test1' currency='-5.0' amount='None' result=ERROR error_type=ValueError error="'amount' должен быть положительным числом"
INFO 2026-01-14T14:12:38 SELL user='test1' currency='0.05' amount='None' result=OK before=0.1 after=0.05
ERROR 2026-01-14T14:12:43 SELL user='test1' currency='100.0' amount='None' result=ERROR error_type=InsufficientFundsError error="Недостаточно средств: доступно 0.05 BTC, требуется 100.0 BTC"
INFO 2026-01-14T14:23:26 RatesUpdater: starting rates update...
INFO 2026-01-14T14:23:26 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T14:23:27 CoinGecko: получено 3 курсов
INFO 2026-01-14T14:23:27 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T14:23:27 RatesUpdater: wrote 3 rates to cache, last_refresh=2026-01-14T11:23:26.214195Z
INFO 2026-01-14T14:23:45 RatesUpdater: starting rates update...
INFO 2026-01-14T14:23:45 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:23:45 ExchangeRate-API: получено 0 курсов
INFO 2026-01-14T14:23:45 RatesUpdater: ExchangeRate-API OK (0 rates)
WARNING 2026-01-14T14:23:45 RatesUpdater: no rates were fetched; cache not updated
INFO 2026-01-14T14:23:56 RatesUpdater: starting rates update...
INFO 2026-01-14T14:23:56 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:23:58 ExchangeRate-API: получено 0 курсов
INFO 2026-01-14T14:23:58 RatesUpdater: ExchangeRate-API OK (0 rates)
WARNING 2026-01-14T14:23:58 RatesUpdater: no rates were fetched; cache not updated
INFO 2026-01-14T14:25:03 RatesUpdater: starting rates update...
INFO 2026-01-14T14:25:03 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:25:04 ExchangeRate-API: получено 0 курсов
INFO 2026-01-14T14:25:04 RatesUpdater: ExchangeRate-API OK (0 rates)
WARNING 2026-01-14T14:25:04 RatesUpdater: no rates were fetched; cache not updated
INFO 2026-01-14T14:25:19 RatesUpdater: starting rates update...
INFO 2026-01-14T14:25:19 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T14:25:20 CoinGecko: получено 3 курсов
INFO 2026-01-14T14:25:20 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T14:25:20 RatesUpdater: wrote 3 rates to cache, last_refresh=2026-01-14T11:25:19.682710Z
INFO 2026-01-14T14:25:33 RatesUpdater: starting rates update...
INFO 2026-01-14T14:25:33 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T14:25:33 CoinGecko: получено 3 курсов
INFO 2026-01-14T14:25:33 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T14:25:33 RatesUpdater: wrote 3 rates to cache, last_refresh=2026-01-14T11:25:33.334684Z
INFO 2026-01-14T14:26:26 RatesUpdater: starting rates update...
INFO 2026-01-14T14:26:26 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:26:27 ExchangeRate-API: получено 0 курсов
INFO 2026-01-14T14:26:27 RatesUpdater: ExchangeRate-API OK (0 rates)
WARNING 2026-01-14T14:26:27 RatesUpdater: no rates were fetched; cache not updated
INFO 2026-01-14T14:28:15 RatesUpdater: starting rates update...
INFO 2026-01-14T14:28:15 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T14:28:15 CoinGecko: получено 3 курсов
INFO 2026-01-14T14:28:15 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T14:28:15 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:28:16 ExchangeRate-API: получено 0 курсов
INFO 2026-01-14T14:28:16 RatesUpdater: ExchangeRate-API OK (0 rates)
INFO 2026-01-14T14:28:16 RatesUpdater: wrote 3 rates to cache, last_refresh=2026-01-14T11:28:15.236941Z
INFO 2026-01-14T14:44:15 RatesUpdater: starting rates update...
INFO 2026-01-14T14:44:15 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:44:16 ExchangeRate-API: получено 0 курсов
INFO 2026-01-14T14:44:16 RatesUpdater: ExchangeRate-API OK (0 rates)
WARNING 2026-01-14T14:44:16 RatesUpdater: no rates were fetched; cache not updated
INFO 2026-01-14T14:44:20 RatesUpdater: starting rates update...
INFO 2026-01-14T14:44:20 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:44:22 ExchangeRate-API: получено 0 курсов
INFO 2026-01-14T14:44:22 RatesUpdater: ExchangeRate-API OK (0 rates)
WARNING 2026-01-14T14:44:22 RatesUpdater: no rates were fetched; cache not updated
INFO 2026-01-14T14:49:27 RatesUpdater: starting rates update...
INFO 2026-01-14T14:49:27 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:49:28 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T14:49:28 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T14:49:28 RatesUpdater: wrote 3 rates to cache, last_refresh=2026-01-14T11:49:27.771272Z
INFO 2026-01-14T14:52:28 RatesUpdater: starting rates update...
INFO 2026-01-14T14:52:28 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T14:52:29 CoinGecko: получено 3 курсов
INFO 2026-01-14T14:52:29 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T14:52:29 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:52:29 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T14:52:29 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T14:52:29 RatesUpdater: wrote 6 rates to cache, last_refresh=2026-01-14T11:52:28.788055Z
INFO 2026-01-14T14:56:02 RatesUpdater: starting rates update...
INFO 2026-01-14T14:56:02 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T14:56:02 CoinGecko: получено 3 курсов
INFO 2026-01-14T14:56:02 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T14:56:02 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:56:07 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T14:56:07 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T14:56:07 RatesUpdater: wrote 6 rates to cache, last_refresh=2026-01-14T11:56:02.166970Z
INFO 2026-01-14T14:56:15 RatesUpdater: starting rates update...
INFO 2026-01-14T14:56:15 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T14:56:15 CoinGecko: получено 3 курсов
INFO 2026-01-14T14:56:15 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T14:56:15 RatesUpdater: wrote 3 rates to cache, last_refresh=2026-01-14T11:56:15.613821Z
INFO 2026-01-14T14:56:33 RatesUpdater: starting rates update...
INFO 2026-01-14T14:56:33 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:56:33 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T14:56:33 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T14:56:33 RatesUpdater: wrote 3 rates to cache, last_refresh=2026-01-14T11:56:33.376798Z
INFO 2026-01-14T14:57:44 RatesUpdater: starting rates update...
INFO 2026-01-14T14:57:44 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T14:57:45 CoinGecko: получено 3 курсов
INFO 2026-01-14T14:57:45 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T14:57:45 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:57:45 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T14:57:45 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T14:57:45 RatesUpdater: wrote 6 rates to cache, last_refresh=2026-01-14T11:57:44.891291Z
INFO 2026-01-14T14:57:55 RatesUpdater: starting rates update...
INFO 2026-01-14T14:57:55 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T14:57:56 CoinGecko: получено 3 курсов
INFO 2026-01-14T14:57:56 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T14:57:56 RatesUpdater: wrote 3 rates to cache, last_refresh=2026-01-14T11:57:55.806223Z
INFO 2026-01-14T14:58:01 RatesUpdater: starting rates update...
INFO 2026-01-14T14:58:01 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:58:01 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T14:58:01 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T14:58:01 RatesUpdater: wrote 3 rates to cache, last_refresh=2026-01-14T11:58:01.437556Z
INFO 2026-01-14T14:58:14 RatesUpdater: starting rates update...
INFO 2026-01-14T14:58:14 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T14:58:14 CoinGecko: получено 3 курсов
INFO 2026-01-14T14:58:14 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T14:58:14 RatesUpdater: wrote 3 rates to cache, last_refresh=2026-01-14T11:58:14.438315Z
INFO 2026-01-14T14:58:25 RatesUpdater: starting rates update...
INFO 2026-01-14T14:58:25 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T14:58:27 CoinGecko: получено 3 курсов
INFO 2026-01-14T14:58:27 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T14:58:27 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T14:58:27 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T14:58:27 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T14:58:27 RatesUpdater: wrote 6 rates to cache, last_refresh=2026-01-14T11:58:25.721934Z
INFO 2026-01-14T14:59:10 BUY user='user1' currency='1000.0' amount='None' result=OK before=0.0 after=1000.0
INFO 2026-01-14T14:59:15 BUY user='user1' currency='0.02' amount='None' result=OK before=0.0 after=0.02
ERROR 2026-01-14T14:59:22 BUY user='user1' currency='-5.0' amount='None' result=ERROR error_type=ValueError error="'amount' должен быть положительным числом"
ERROR 2026-01-14T14:59:29 BUY user='user1' currency='1.0' amount='None' result=ERROR error_type=CurrencyNotFoundError error="Неизвестная валюта 'ABC'"
ERROR 2026-01-14T14:59:35 SELL user='user1' currency='99999.0' amount='None' result=ERROR error_type=InsufficientFundsError error="Недостаточно средств: доступно 0.02 BTC, требуется 99999.0 BTC"
ERROR 2026-01-14T14:59:51 SELL user='user1' currency='10.0' amount='None' result=ERROR error_type=CurrencyNotFoundError error="Неизвестная валюта 'SHIB'"
INFO 2026-01-14T15:12:37 RatesUpdater: starting rates update...
INFO 2026-01-14T15:12:37 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T15:12:38 CoinGecko: получено 3 курсов
INFO 2026-01-14T15:12:38 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T15:12:38 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T15:12:38 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T15:12:38 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T15:12:38 RatesUpdater: wrote 6 rates to cache, last_refresh=2026-01-14T12:12:37.774994Z
INFO 2026-01-14T15:13:17 BUY user='demo' currency='1000.0' amount='None' result=OK before=0.0 after=1000.0
INFO 2026-01-14T15:13:21 BUY user='demo' currency='0.02' amount='None' result=OK before=0.0 after=0.02
ERROR 2026-01-14T15:13:37 BUY user='demo' currency='-5.0' amount='None' result=ERROR error_type=ValueError error="'amount' должен быть положительным числом"
ERROR 2026-01-14T15:13:42 BUY user='demo' currency='1.0' amount='None' result=ERROR error_type=CurrencyNotFoundError error="Неизвестная валюта 'ABC'"
INFO 2026-01-14T15:13:58 SELL user='demo' currency='0.01' amount='None' result=OK before=0.02 after=0.01
INFO 2026-01-14T15:14:19 RatesUpdater: starting rates update...
INFO 2026-01-14T15:14:19 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T15:14:19 CoinGecko: получено 3 курсов
INFO 2026-01-14T15:14:19 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T15:14:19 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T15:14:19 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T15:14:19 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T15:14:19 RatesUpdater: wrote 6 rates to cache, last_refresh=2026-01-14T12:14:19.132244Z
INFO 2026-01-14T15:17:19 RatesUpdater: starting rates update...
INFO 2026-01-14T15:17:19 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T15:17:20 CoinGecko: получено 3 курсов
INFO 2026-01-14T15:17:20 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T15:17:20 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T15:17:20 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T15:17:20 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T15:17:20 RatesUpdater: wrote 6 rates to cache, last_refresh=2026-01-14T12:17:19.977183Z
INFO 2026-01-14T15:18:52 RatesUpdater: starting rates update...
INFO 2026-01-14T15:18:52 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T15:18:52 CoinGecko: получено 3 курсов
INFO 2026-01-14T15:18:52 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T15:18:52 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T15:18:54 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T15:18:54 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T15:18:54 RatesUpdater: wrote 6 rates to cache, last_refresh=2026-01-14T12:18:52.648591Z
INFO 2026-01-14T15:22:00 RatesUpdater: starting rates update...
INFO 2026-01-14T15:22:00 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T15:22:00 CoinGecko: получено 3 курсов
INFO 2026-01-14T15:22:00 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T15:22:00 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T15:22:00 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T15:22:00 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T15:22:00 RatesUpdater: wrote 6 rates to cache, last_refresh=2026-01-14T12:22:00.062202Z
INFO 2026-01-14T15:23:08 RatesUpdater: starting rates update...
INFO 2026-01-14T15:23:08 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T15:23:08 CoinGecko: получено 3 курсов
INFO 2026-01-14T15:23:08 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T15:23:08 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T15:23:08 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T15:23:08 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T15:23:08 RatesUpdater: wrote 6 rates to cache, last_refresh=2026-01-14T12:23:08.112512Z
INFO 2026-01-14T15:24:57 RatesUpdater: starting rates update...
INFO 2026-01-14T15:24:57 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T15:24:57 CoinGecko: получено 3 курсов
INFO 2026-01-14T15:24:57 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T15:24:57 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T15:24:57 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T15:24:57 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T15:24:57 RatesUpdater: wrote 6 rates to cache, last_refresh=2026-01-14T12:24:57.195046Z
INFO 2026-01-14T15:26:42 RatesUpdater: starting rates update...
INFO 2026-01-14T15:26:42 RatesUpdater: fetching from CoinGecko...
INFO 2026-01-14T15:26:43 CoinGecko: получено 3 курсов
INFO 2026-01-14T15:26:43 RatesUpdater: CoinGecko OK (3 rates)
INFO 2026-01-14T15:26:43 RatesUpdater: fetching from ExchangeRate-API...
INFO 2026-01-14T15:26:43 ExchangeRate-API: получено 3 курсов
INFO 2026-01-14T15:26:43 RatesUpdater: ExchangeRate-API OK (3 rates)
INFO 2026-01-14T15:26:43 RatesUpdater: wrote 6 rates to cache, last_refresh=2026-01-14T12:26:42.889415Z
INFO 2026-01-14T15:27:11 BUY user='demo' currency='1000.0' amount='None' result=OK before=0.0 after=1000.0
INFO 2026-01-14T15:27:16 BUY user='demo' currency='0.02' amount='None' result=OK before=0.0 after=0.02
ERROR 2026-01-14T15:27:23 BUY user='demo' currency='-5.0' amount='None' result=ERROR error_type=ValueError error="'amount' должен быть положительным числом"
ERROR 2026-01-14T15:27:27 BUY user='demo' currency='1.0' amount='None' result=ERROR error_type=CurrencyNotFoundError error="Неизвестная валюта 'ABC'"
INFO 2026-01-14T15:27:41 SELL user='demo' currency='0.01' amount='None' result=OK before=0.02 after=0.01
ERROR 2026-01-14T15:27:47 SELL user='demo' currency='999.0' amount='None' result=ERROR error_type=InsufficientFundsError error="Недостаточно средств: доступно 0.01 BTC, требуется 999.0 BTC"
ERROR 2026-01-14T15:27:51 SELL user='demo' currency='10.0' amount='None' result=ERROR error_type=CurrencyNotFoundError error="Неизвестная валюта 'SHIB'"
